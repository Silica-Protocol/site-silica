---
// Unified Article Layout for Blog Posts - Dark Theme
import Layout from './Layout.astro';

export interface Props {
  title: string;
  description?: string;
  author?: string;
  date?: string;
  category?: string;
  readingTime?: string;
}

const { 
  title, 
  description = '', 
  author = 'Silica Research Team', 
  date = 'December 2025', 
  category = 'Technical Article',
  readingTime = '10 min read'
} = Astro.props;
---

<Layout title={title} description={description}>
  <!-- Hero Section -->
  <section class="relative bg-gradient-to-b from-slate-950 via-slate-900 to-slate-900 text-white py-24 overflow-hidden">
    <!-- Animated Background -->
    <div class="absolute inset-0">
      <div class="absolute inset-0 opacity-20" style="background-image: linear-gradient(rgba(14,165,233,0.3) 1px, transparent 1px), linear-gradient(90deg, rgba(14,165,233,0.3) 1px, transparent 1px); background-size: 60px 60px;"></div>
      <div class="absolute top-1/4 right-1/4 w-[300px] h-[300px] rounded-full bg-cyan-500/20 blur-[100px] animate-pulse" style="animation-duration: 5s;"></div>
      <div class="absolute bottom-1/3 left-1/4 w-[250px] h-[250px] rounded-full bg-teal-500/15 blur-[80px] animate-pulse" style="animation-duration: 7s;"></div>
    </div>
    
    <div class="relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-8">
        <div class="flex items-center justify-center mb-4">
          <span class="bg-cyan-500/20 border border-cyan-500/30 text-cyan-400 text-xs font-medium px-3 py-1 rounded-full">
            {category}
          </span>
        </div>
        <h1 class="text-3xl md:text-5xl font-bold text-white mb-6">
          {title}
        </h1>
        {description && (
          <p class="text-lg text-slate-300 mb-6 max-w-3xl mx-auto">
            {description}
          </p>
        )}
        <div class="flex items-center justify-center space-x-4 text-sm text-slate-400">
          <span>{author}</span>
          <span>•</span>
          <span>{date}</span>
          <span>•</span>
          <span>{readingTime}</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Article Content -->
  <article class="py-16 bg-slate-900">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="prose prose-invert prose-lg max-w-none 
                  prose-headings:font-bold
                  prose-p:text-slate-300 prose-p:leading-loose prose-p:mb-6
                  prose-strong:text-white prose-strong:font-semibold
                  prose-em:text-cyan-300
                  prose-a:text-cyan-400 prose-a:no-underline hover:prose-a:text-cyan-300
                  prose-code:text-cyan-300 prose-code:bg-slate-800/70 prose-code:px-2 prose-code:py-1 prose-code:rounded prose-code:text-sm prose-code:before:content-none prose-code:after:content-none
                  prose-pre:bg-slate-800/50 prose-pre:backdrop-blur-sm prose-pre:border prose-pre:border-cyan-500/20 prose-pre:rounded-lg prose-pre:p-4 prose-pre:overflow-x-auto
                  prose-ul:text-slate-300 prose-ul:space-y-3 prose-ul:mb-6 prose-ul:leading-relaxed
                  prose-ol:text-slate-300 prose-ol:space-y-3 prose-ol:mb-6 prose-ol:leading-relaxed
                  prose-li:text-slate-300 prose-li:leading-relaxed">
        <slot />
      </div>
    </div>
  </article>
</Layout>

<style is:global>
  /* Heading styles with gradient highlight bars */
  article h2 {
    font-size: 1.75rem;
    font-weight: 700;
    color: white;
    margin-top: 3rem;
    margin-bottom: 1.5rem;
    position: relative;
    padding-left: 1.5rem;
    line-height: 1.3;
  }
  
  article h2::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0.25rem;
    bottom: 0.25rem;
    width: 4px;
    background: linear-gradient(to bottom, #06b6d4, #14b8a6);
    border-radius: 2px;
    box-shadow: 0 0 8px rgba(6, 182, 212, 0.5);
  }
  
  article h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #5eead4;
    margin-top: 2rem;
    margin-bottom: 1rem;
    position: relative;
    padding-left: 1rem;
    line-height: 1.4;
  }
  
  article h3::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0.35rem;
    bottom: 0.35rem;
    width: 3px;
    background: #14b8a6;
    border-radius: 2px;
  }
  
  article h4 {
    font-size: 1.1rem;
    font-weight: 600;
    color: #6ee7b7;
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
    line-height: 1.4;
  }
  
  /* Better paragraph spacing */
  article p {
    line-height: 1.8;
    margin-bottom: 1.5rem;
  }
  
  /* Code blocks - better contrast */
  article pre {
    line-height: 1.6;
  }
  
  article pre code {
    color: #e2e8f0 !important;
    font-size: 0.875rem;
    line-height: 1.6;
    word-wrap: break-word;
    white-space: pre-wrap;
  }
  
  /* Inline code */
  article :not(pre) > code {
    font-size: 0.85em;
    padding: 0.2em 0.4em;
    white-space: normal;
    word-break: break-word;
  }
  
  /* Custom article content styling */
  article .code-block {
    @apply bg-slate-800/50 backdrop-blur-sm border border-cyan-500/20 rounded-lg p-4 mb-6;
  }
  
  article .code-block pre {
    @apply border-0 bg-transparent p-0 m-0;
  }
  
  article .code-block code {
    @apply text-slate-300;
  }
  
  /* Info boxes - better contrast */
  article .info-box,
  article .bg-blue-50 {
    @apply bg-cyan-500/10 border-l-4 border-cyan-400 p-5 mb-6 rounded-r-lg;
  }
  
  article .info-box p,
  article .bg-blue-50 p {
    @apply text-slate-200 mb-2 leading-relaxed;
  }
  
  article .info-box p:last-child,
  article .bg-blue-50 p:last-child {
    @apply mb-0;
  }
  
  article .info-box .font-semibold,
  article .bg-blue-50 .font-semibold {
    @apply text-cyan-300 text-base;
  }
  
  /* Process flow and lists */
  article .process-flow {
    @apply bg-slate-800/30 border border-teal-500/20 rounded-lg p-5 mb-6;
  }
  
  article .process-flow h4 {
    @apply text-teal-400 mb-3 mt-0;
  }
  
  article .process-flow ol {
    @apply space-y-2 mb-0;
  }
  
  article .process-flow li {
    @apply text-slate-300 leading-relaxed;
  }
  
  /* Math formulas */
  article .math-formula {
    @apply bg-slate-800/30 border border-green-500/20 rounded-lg p-5 mb-6;
  }
  
  article .math-formula p {
    @apply text-green-300 font-mono text-sm mb-0 leading-relaxed;
  }
  
  article .milestone-card {
    @apply bg-slate-800/50 backdrop-blur-sm border border-cyan-500/20 rounded-lg p-4 mb-4 hover:border-cyan-500/40 transition-all duration-300;
  }
  
  article .research-section {
    @apply mb-8;
  }
  
  article .metric-card {
    @apply bg-gradient-to-br from-slate-800 to-slate-800/50 border border-teal-500/20 rounded-lg p-6 text-center;
  }
  
  article .comparison-table {
    @apply my-6 overflow-x-auto;
  }
  
  article .comparison-table table {
    @apply w-full border-collapse bg-slate-800/30 rounded-lg overflow-hidden;
  }
  
  article .comparison-table th {
    @apply bg-cyan-500/20 text-cyan-400 px-4 py-3 text-left font-semibold border-b border-cyan-500/20;
  }
  
  article .comparison-table td {
    @apply px-4 py-3 text-slate-300 border-b border-slate-700/50;
  }
  
  article .comparison-table tr:hover {
    @apply bg-slate-700/30;
  }
  
  article .comparison-table .highlight {
    @apply bg-cyan-500/10;
  }
  
  article .comparison-table .highlight td {
    @apply text-white font-semibold;
  }
  
  /* Section spacing */
  article section {
    @apply mb-8;
  }
  
  article .content-section {
    @apply mb-12;
  }
</style>
